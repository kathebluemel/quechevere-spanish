<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Level 1 • Unit 5 — Food & Preferences | Seño Bluemel Que Chévere</title>

  <style>
    :root{
      --bg:#0b0f14; --panel:#121923; --panel2:#0f1620;
      --text:#e8eef6; --muted:#b7c4d6; --line:rgba(255,255,255,.10);
      --accent:#4aa3ff; --good:#34d399; --warn:#fbbf24; --bad:#fb7185;
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius: 16px; --radius2: 12px; --max: 1100px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    a{color:inherit}
    .wrap{max-width:var(--max);margin:0 auto;padding:22px}

    .topbar{
      display:flex;gap:12px;align-items:center;justify-content:space-between;
      padding:14px 16px;border:1px solid var(--line);border-radius:var(--radius);
      background:linear-gradient(180deg,var(--panel),var(--panel2));
      box-shadow:var(--shadow);
      position:sticky;top:12px;z-index:20
    }
    .brand{display:flex;flex-direction:column;gap:2px}
    .brand .kicker{font-size:12px;letter-spacing:.08em;text-transform:uppercase;color:var(--muted)}
    .brand .title{font-size:16px;font-weight:900}
    .nav{display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:flex-end}
    .btn{
      border:1px solid var(--line);background:rgba(255,255,255,.04);
      padding:9px 12px;border-radius:999px;text-decoration:none;
      font-weight:750;font-size:13px;display:inline-flex;gap:8px;align-items:center
    }
    .btn:hover{border-color:rgba(255,255,255,.22)}
    .btn.primary{background:rgba(74,163,255,.12);border-color:rgba(74,163,255,.35)}
    .btn.danger{background:rgba(251,113,133,.10);border-color:rgba(251,113,133,.35)}
    .btn.ghost{background:rgba(255,255,255,.02)}

    .grid{display:grid;gap:16px;margin-top:16px}
    @media(min-width:900px){ .grid{grid-template-columns: 1.2fr .8fr;} }

    .card{
      border:1px solid var(--line);
      background:linear-gradient(180deg,var(--panel),var(--panel2));
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px
    }
    h1{margin:0 0 8px 0;font-size:28px;letter-spacing:-.02em}
    .subtitle{color:var(--muted);line-height:1.5;margin:0 0 14px 0}

    .pillrow{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0 4px 0}
    .pill{
      font-size:12px;font-weight:800;letter-spacing:.02em;
      padding:6px 10px;border-radius:999px;border:1px solid var(--line);
      background:rgba(255,255,255,.04);color:var(--text)
    }
    .pill.accent{border-color:rgba(74,163,255,.35);background:rgba(74,163,255,.12)}
    .pill.good{border-color:rgba(52,211,153,.35);background:rgba(52,211,153,.10)}
    .pill.note{border-color:rgba(251,191,36,.35);background:rgba(251,191,36,.10)}

    .sectionTitle{font-size:14px;letter-spacing:.08em;text-transform:uppercase;color:var(--muted);margin:0 0 10px 0}
    .bigQ{
      font-size:18px;font-weight:900;margin:10px 0 0 0;
      border-left:4px solid rgba(74,163,255,.6);padding-left:10px
    }

    .stageNav{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .hr{height:1px;background:var(--line);margin:14px 0}
    .small{font-size:13px;color:var(--muted);line-height:1.45}
    ul{margin:8px 0 0 18px}
    li{margin:6px 0;line-height:1.45}

    .callout{
      border:1px dashed rgba(255,255,255,.22);
      border-radius:var(--radius2);
      padding:12px;
      background:rgba(255,255,255,.03);
      margin-top:10px
    }
    .callout strong{display:block;margin-bottom:6px}

    /* Progress panel */
    .progressWrap{display:flex;flex-direction:column;gap:10px}
    .bar{
      width:100%;height:10px;border-radius:999px;background:rgba(255,255,255,.08);
      overflow:hidden;border:1px solid rgba(255,255,255,.10)
    }
    .fill{
      height:100%;width:0%;
      background:linear-gradient(90deg, rgba(74,163,255,.95), rgba(52,211,153,.95))
    }
    .stageList{display:flex;flex-direction:column;gap:10px;margin-top:10px}
    .stageRow{
      display:flex;gap:10px;align-items:center;justify-content:space-between;
      padding:10px 12px;border-radius:var(--radius2);
      border:1px solid var(--line);background:rgba(255,255,255,.03)
    }
    .stageRow strong{font-size:13px}
    .stageRow .left{display:flex;gap:10px;align-items:center}
    .dot{
      width:10px;height:10px;border-radius:99px;background:rgba(255,255,255,.25);
      border:1px solid rgba(255,255,255,.20)
    }
    .dot.done{background:rgba(52,211,153,.9);border-color:rgba(52,211,153,.9)}
    .stageRow button{
      cursor:pointer;border-radius:999px;padding:7px 10px;border:1px solid var(--line);
      background:rgba(255,255,255,.04);color:var(--text);
      font-weight:800;font-size:12px
    }
    .stageRow button:hover{border-color:rgba(255,255,255,.22)}
    .stageRow button.doneBtn{border-color:rgba(52,211,153,.45);background:rgba(52,211,153,.10)}
    .stageRow button.undoBtn{border-color:rgba(251,113,133,.40);background:rgba(251,113,133,.10)}

    /* Details sections */
    details{
      border:1px solid var(--line);
      border-radius:var(--radius);
      background:linear-gradient(180deg,var(--panel),var(--panel2));
      box-shadow:var(--shadow);
      padding:14px 16px
    }
    details + details{margin-top:12px}
    summary{
      cursor:pointer;list-style:none;display:flex;align-items:center;justify-content:space-between;gap:10px
    }
    summary::-webkit-details-marker{display:none}
    .sumLeft{display:flex;flex-direction:column;gap:2px}
    .sumLeft .st{font-weight:950}
    .sumLeft .mode{font-size:12px;color:var(--muted)}
    .chev{color:var(--muted);font-weight:900}
    .content{margin-top:12px;border-top:1px solid var(--line);padding-top:12px}

    .hiddenTeacher{display:none}
    .toggleTeacher{
      width:100%;text-align:left;border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.03);padding:10px 12px;border-radius:var(--radius2);
      font-weight:900;cursor:pointer
    }
    .toggleTeacher:hover{border-color:rgba(255,255,255,.25)}

    code.inline{background:rgba(255,255,255,.08);padding:2px 6px;border-radius:8px;border:1px solid rgba(255,255,255,.12)}

    .rubric{
      border:1px solid rgba(255,255,255,.12);
      border-radius:var(--radius2);
      overflow:hidden;
      margin-top:10px
    }
    .rubricRow{
      display:grid;
      grid-template-columns: 1.2fr 1fr 1fr 1fr;
      gap:0;
      border-top:1px solid rgba(255,255,255,.10)
    }
    .rubricRow:first-child{border-top:none}
    .rubricCell{
      padding:10px 10px;
      border-right:1px solid rgba(255,255,255,.10);
      font-size:12px;
      line-height:1.35;
      color:var(--muted)
    }
    .rubricCell strong{color:var(--text)}
    .rubricRow .rubricCell:last-child{border-right:none}
    .rubricHead .rubricCell{
      background:rgba(255,255,255,.04);
      color:var(--text);
      font-weight:900
    }
    .miniTable{
      width:100%;
      border-collapse:collapse;
      margin-top:8px
    }
    .miniTable th,.miniTable td{
      border:1px solid rgba(255,255,255,.12);
      padding:8px 10px;
      font-size:12px;
      color:var(--muted);
      text-align:left;
      vertical-align:top
    }
    .miniTable th{color:var(--text);background:rgba(255,255,255,.04)}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="kicker">Seño Bluemel Que Chévere • Level 1</div>
        <div class="title">Unit 5 — Food & Preferences</div>
      </div>
      <div class="nav">
        <a class="btn" href="../../index.html">← Home</a>
        <a class="btn primary" href="../index.html">Level 1 Dashboard</a>
        <a class="btn ghost" href="#stages">Stages</a>
      </div>
    </div>

    <div class="grid">
      <!-- LEFT: Unit Overview -->
      <div class="card">
        <h1>Unit 5: Food & Preferences</h1>
        <p class="subtitle">
          Talk about foods you like and don’t like, ask simple preference questions, and order politely
          using high-frequency phrases.
        </p>

        <div class="pillrow">
          <span class="pill accent">Proficiency: Novice Mid → Novice High (supported)</span>
          <span class="pill good">High-frequency food words</span>
          <span class="pill note">Me gusta / No me gusta + polite ordering</span>
        </div>

        <div class="hr"></div>

        <p class="sectionTitle">Proficiency Goal</p>
        <p class="small">
          Students understand and communicate basic food preferences and simple ordering in familiar contexts
          using practiced language.
        </p>

        <p class="sectionTitle">Essential Question</p>
        <p class="bigQ">¿Cómo influyen la cultura y la familia en lo que comemos?</p>

        <div class="hr"></div>

        <p class="sectionTitle">Core Language Targets</p>
        <ul>
          <li>I can say what I like and don’t like (me gusta / no me gusta).</li>
          <li>I can ask and answer simple preference questions (¿Te gusta…? ¿Qué prefieres?).</li>
          <li>I can order politely using short phrases (Quiero…, Para mí…, por favor, gracias).</li>
          <li>I can understand a simple menu and choose items.</li>
        </ul>

        <div class="callout">
          <strong>Unit 5 “Must-Have” Language</strong>
          <div class="small">
            <b>Likes/Dislikes:</b> Me gusta(n)… • No me gusta(n)… • Me encanta(n)… • Prefiero…<br/>
            <b>Foods:</b> pizza, tacos, ensalada, arroz, pollo, pescado, pan, fruta, verduras, helado, agua, jugo, leche<br/>
            <b>Ordering:</b> Quiero… • Para mí… • ¿Cuánto cuesta? • La cuenta, por favor • ¿Me trae…? • Gracias
          </div>
        </div>

        <div class="stageNav" aria-label="Stage navigation">
          <a class="btn" href="#s1">Stage 1: Understand</a>
          <a class="btn" href="#s2">Stage 2: Interact</a>
          <a class="btn" href="#s3">Stage 3: Create</a>
          <a class="btn" href="#s4">Stage 4: Reflect</a>
          <a class="btn" href="#s5">Stage 5: Perform</a>
        </div>
      </div>

      <!-- RIGHT: Progress -->
      <div class="card">
        <p class="sectionTitle">Progress</p>
        <div class="progressWrap">
          <div class="bar"><div class="fill" id="progressFill"></div></div>
          <div class="small" id="progressText">0% complete</div>
          <div class="stageList" id="stageList"></div>
          <button class="btn danger" id="resetBtn" style="justify-content:center;width:100%">
            Reset Unit 5 Progress
          </button>
          <div class="small">Tip: Progress saves in your browser (localStorage).</div>
        </div>
      </div>
    </div>

    <div id="stages" style="margin-top:16px"></div>

    <!-- STAGE 1 -->
    <details open id="s1">
      <summary>
        <div class="sumLeft">
          <div class="st">Stage 1: Understand</div>
          <div class="mode">Interpretive • Comprehension first</div>
        </div>
        <div class="chev">▾</div>
      </summary>
      <div class="content">
        <ul>
          <li>I can understand what foods someone likes and dislikes.</li>
          <li>I can identify key menu words and prices.</li>
          <li>I can match preference statements to meaning.</li>
        </ul>

        <div class="callout">
          <strong>Lectura (10+ sentences)</strong>
          <p class="small" style="margin:0">
            Hoy es viernes y yo tengo hambre. En la cafetería hay pizza, ensalada, arroz y pollo.
            A mí me gusta la pizza, pero no me gusta la ensalada. Mi amiga Carla prefiere el arroz y el pollo.
            Ella dice: “Me encanta el pollo.” Yo quiero pizza y agua. Carla quiere arroz y jugo.
            En la mesa, hablamos de la comida en casa. En mi casa comemos fruta después de la cena.
            Carla come helado los sábados. A veces, mi hermano quiere pan y leche por la mañana.
            Al final, decimos: “¡Qué rico!” y vamos a clase.
          </p>

          <div class="hr"></div>

          <strong>Comprehension (answer in English)</strong>
          <ol class="small" style="margin:8px 0 0 18px">
            <li>Where are they eating?</li>
            <li>List two foods available in the cafeteria.</li>
            <li>What does the narrator like? What does the narrator not like?</li>
            <li>What does Carla prefer?</li>
            <li>What does each person drink?</li>
            <li>What does the narrator eat after dinner at home?</li>
            <li>What does Carla eat on Saturdays?</li>
            <li>What does the brother want in the morning?</li>
          </ol>
        </div>

        <div class="callout">
          <strong>Interpretive Quick Practice</strong>
          <ul>
            <li>Circle the words that show likes: <b>me gusta</b>, <b>me encanta</b>.</li>
            <li>Underline foods (pizza, arroz, pollo…).</li>
            <li>Highlight drinks (agua, jugo, leche).</li>
          </ul>
        </div>
      </div>
    </details>

    <!-- STAGE 2 -->
    <details id="s2">
      <summary>
        <div class="sumLeft">
          <div class="st">Stage 2: Interact</div>
          <div class="mode">Interpersonal • Ask & answer with support</div>
        </div>
        <div class="chev">▾</div>
      </summary>
      <div class="content">
        <ul>
          <li>I can ask and answer preference questions.</li>
          <li>I can order politely using practiced phrases.</li>
          <li>I can keep the conversation going (even with mistakes).</li>
        </ul>

        <div class="callout">
          <strong>Core Conversation Frames (use these)</strong>
          <ul>
            <li><b>¿Te gusta…?</b> → Sí, me gusta… / No, no me gusta…</li>
            <li><b>¿Qué te gusta comer?</b> → Me gusta comer…</li>
            <li><b>¿Qué prefieres?</b> → Prefiero…</li>
            <li><b>¿Qué quieres?</b> → Quiero… / Para mí…</li>
            <li><b>¿Cuánto cuesta?</b> → Cuesta… dólares.</li>
            <li><b>Gracias.</b> / <b>Por favor.</b> / <b>La cuenta, por favor.</b></li>
          </ul>
        </div>

        <div class="callout">
          <strong>Task A — Speed Survey (8 minutes)</strong>
          <ol class="small" style="margin:8px 0 0 18px">
            <li>Ask 5 classmates: <b>¿Te gusta…?</b> (pizza / tacos / arroz / helado / ensalada).</li>
            <li>Tally answers (Sí / No).</li>
            <li>Report one result: “A (3) estudiantes les gusta la pizza.”</li>
          </ol>
        </div>

        <div class="callout">
          <strong>Task B — Menu Pair Talk (10 minutes)</strong>
          <p class="small" style="margin:0">
            Partner A chooses 2 items; Partner B chooses 2 items. Ask and answer:
            <b>¿Qué prefieres?</b> <b>¿Te gusta…?</b> <b>¿Cuánto cuesta…?</b>
            Then switch roles.
          </p>
        </div>

        <div class="callout">
          <strong>Task C — Restaurant Mini Role-Play (repeat 2 times)</strong>
          <ul>
            <li><b>Server:</b> Hola. ¿Qué quiere? / ¿Qué desea?</li>
            <li><b>Customer:</b> Para mí…, por favor. Quiero…</li>
            <li><b>Server:</b> ¿Algo más?</li>
            <li><b>Customer:</b> Sí/No. Gracias.</li>
            <li><b>Customer:</b> La cuenta, por favor.</li>
          </ul>
          <div class="small">Goal: stay in Spanish for 45–60 seconds.</div>
        </div>

        <div class="callout">
          <strong>Stay-in-Spanish Rescue Phrases</strong>
          <ul>
            <li><b>¿Cómo se dice…?</b></li>
            <li><b>¿Qué significa…?</b></li>
            <li><b>Repita, por favor.</b></li>
            <li><b>No entiendo.</b></li>
          </ul>
        </div>
      </div>
    </details>

    <!-- STAGE 3 -->
    <details id="s3">
      <summary>
        <div class="sumLeft">
          <div class="st">Stage 3: Create</div>
          <div class="mode">Presentational • Make a product</div>
        </div>
        <div class="chev">▾</div>
      </summary>
      <div class="content">
        <ul>
          <li>I can present my preferences using complete sentences.</li>
          <li>I can use unit vocabulary (food + likes/dislikes + ordering).</li>
          <li>I can organize my message so it’s easy to understand.</li>
        </ul>

        <div class="callout">
          <strong>Choose ONE Presentational Option</strong>
          <ul>
            <li><b>Option A — “My Menu”:</b> Create a mini menu with 8 items + prices + 8 preference sentences.</li>
            <li><b>Option B — “Food Profile”:</b> Write 10–12 sentences about what you like/don’t like and what you eat at home.</li>
            <li><b>Option C — Ordering Audio:</b> 30–45 seconds ordering a meal politely (greeting + order + thank you).</li>
          </ul>
        </div>

        <div class="callout">
          <strong>Sentence Starters</strong>
          <ul>
            <li>Me gusta… / No me gusta…</li>
            <li>Me encanta… / Prefiero…</li>
            <li>Para mí, … por favor.</li>
            <li>¿Me trae …?</li>
            <li>Gracias. La cuenta, por favor.</li>
          </ul>
        </div>

        <div class="callout">
          <strong>Student-Friendly Rubric</strong>
          <div class="rubric">
            <div class="rubricRow rubricHead">
              <div class="rubricCell">Category</div>
              <div class="rubricCell">4</div>
              <div class="rubricCell">3</div>
              <div class="rubricCell">2</div>
            </div>
            <div class="rubricRow">
              <div class="rubricCell"><strong>Meaning</strong></div>
              <div class="rubricCell">Easy to understand; clear message</div>
              <div class="rubricCell">Mostly clear; minor confusion</div>
              <div class="rubricCell">Some confusion; incomplete message</div>
            </div>
            <div class="rubricRow">
              <div class="rubricCell"><strong>Vocabulary</strong></div>
              <div class="rubricCell">Uses many unit words + phrases</div>
              <div class="rubricCell">Uses some unit words</div>
              <div class="rubricCell">Few unit words</div>
            </div>
            <div class="rubricRow">
              <div class="rubricCell"><strong>Accuracy</strong></div>
              <div class="rubricCell">Errors don’t block meaning</div>
              <div class="rubricCell">Some errors; still understandable</div>
              <div class="rubricCell">Errors often block meaning</div>
            </div>
          </div>
        </div>
      </div>
    </details>

    <!-- STAGE 4 -->
    <details id="s4">
      <summary>
        <div class="sumLeft">
          <div class="st">Stage 4: Reflect</div>
          <div class="mode">Culture + Metacognition</div>
        </div>
        <div class="chev">▾</div>
      </summary>
      <div class="content">
        <ul>
          <li>I can compare food routines across cultures.</li>
          <li>I can explain how family and community influence food.</li>
          <li>I can reflect on the strategies that help me communicate.</li>
        </ul>

        <div class="callout">
          <strong>Culture Reflection (write in English or simple Spanish)</strong>
          <ol class="small" style="margin:8px 0 0 18px">
            <li>What is a “normal” breakfast in your community? What might be different in a Spanish-speaking community?</li>
            <li>How do people show politeness when ordering food?</li>
            <li>What is one food that connects to your family or traditions? Why?</li>
          </ol>
        </div>

        <div class="callout">
          <strong>Metacognition (how I learn)</strong>
          <ol class="small" style="margin:8px 0 0 18px">
            <li>What helped you remember “me gusta / no me gusta”?</li>
            <li>What do you do when you forget a word?</li>
            <li>What will you practice next: food words, question forms, or ordering phrases?</li>
          </ol>
        </div>
      </div>
    </details>

    <!-- STAGE 5 -->
    <details id="s5">
      <summary>
        <div class="sumLeft">
          <div class="st">Stage 5: Perform</div>
          <div class="mode">Assessment • Option C (Interpretive + Interpersonal + Presentational)</div>
        </div>
        <div class="chev">▾</div>
      </summary>
      <div class="content">
        <div class="callout">
          <strong>Combined Performance Task (Option C)</strong>
          <p class="small" style="margin:0">
            You will complete <b>three parts</b>: interpret a menu, order in a short conversation, and present your preferences.
            Goal: communicate clearly with simple, practiced Spanish.
          </p>
        </div>

        <div class="callout">
          <strong>Part 1 — Interpretive (Menu Reading)</strong>
          <p class="small" style="margin:0">
            Read the menu and answer the questions in <b>English</b>.
          </p>

          <table class="miniTable" aria-label="Menu">
            <tr><th colspan="3">Menú — La Cafetería</th></tr>
            <tr>
              <th>Comida</th><th>Bebida</th><th>Postre</th>
            </tr>
            <tr>
              <td>pizza — $3<br/>tacos — $4<br/>ensalada — $3<br/>arroz con pollo — $5</td>
              <td>agua — $1<br/>jugo — $2<br/>leche — $2</td>
              <td>helado — $3<br/>fruta — $2</td>
            </tr>
          </table>

          <ol class="small" style="margin:8px 0 0 18px">
            <li>Which item is $5?</li>
            <li>Name two drinks.</li>
            <li>If you buy tacos and agua, how much does it cost?</li>
            <li>Which dessert costs $2?</li>
          </ol>
        </div>

        <div class="callout">
          <strong>Part 2 — Interpersonal (Restaurant Role-Play)</strong>
          <p class="small" style="margin:0">
            With a partner, complete a 45–60 second conversation. Switch roles.
          </p>
          <ul>
            <li><b>Server:</b> Hola. ¿Qué quiere?</li>
            <li><b>Customer:</b> Para mí…, por favor. Quiero…</li>
            <li><b>Server:</b> ¿Algo más?</li>
            <li><b>Customer:</b> Sí/No. Me gusta… / No me gusta…</li>
            <li><b>Customer:</b> La cuenta, por favor. Gracias.</li>
          </ul>
          <div class="small">Success = you keep the conversation going.</div>
        </div>

        <div class="callout">
          <strong>Part 3 — Presentational (My Preferences)</strong>
          <p class="small" style="margin:0">
            Present <b>6–8 sentences</b> (spoken or written):
          </p>
          <ul>
            <li>2 sentences: what you like</li>
            <li>2 sentences: what you don’t like</li>
            <li>1 sentence: what you prefer (Prefiero…)</li>
            <li>1–3 sentences: what you eat at home / a family food / a polite ordering phrase</li>
          </ul>
        </div>

        <div class="callout">
          <strong>Overall Success Criteria</strong>
          <ul>
            <li>My meaning is clear.</li>
            <li>I use unit vocabulary (foods + likes/dislikes + ordering).</li>
            <li>I use polite phrases (por favor, gracias).</li>
            <li>Mistakes are okay — I keep communicating.</li>
          </ul>
        </div>
      </div>
    </details>

    <!-- Teacher Alignment -->
    <div class="card" style="margin-top:16px">
      <button class="toggleTeacher" id="teacherBtn">Teacher Alignment (click to show/hide)</button>
      <div class="hiddenTeacher" id="teacherBox" style="margin-top:12px">
        <p class="sectionTitle">Standards</p>
        <p class="small"><b>Standards:</b> ACTFL – Interpretive, Interpersonal, Presentational | <b>MO WL.1 & WL.3</b></p>

        <p class="sectionTitle">Assessment Notes</p>
        <ul class="small">
          <li><b>Option C</b> performance aligns to the full ACTFL “communication triangle.”</li>
          <li>Interpretive is measured with English comprehension questions to reduce output load.</li>
          <li>Interpersonal emphasizes staying in the conversation (meaning > perfection).</li>
          <li>Presentational product shows organization and controlled output.</li>
        </ul>

        <p class="sectionTitle">LocalStorage Keys</p>
        <p class="small">
          <code class="inline">l1u5_s1_understand</code>,
          <code class="inline">l1u5_s2_interact</code>,
          <code class="inline">l1u5_s3_create</code>,
          <code class="inline">l1u5_s4_reflect</code>,
          <code class="inline">l1u5_s5_perform</code>
        </p>
      </div>
    </div>

    <p class="small" style="text-align:center;margin:18px 0 0 0;color:var(--muted)">
      © Seño Bluemel Que Chévere • Unit 5
    </p>
  </div>

  <script>
    const STAGES = [
      { key: "l1u5_s1_understand", label: "Stage 1: Understand", anchor: "#s1" },
      { key: "l1u5_s2_interact",   label: "Stage 2: Interact",   anchor: "#s2" },
      { key: "l1u5_s3_create",     label: "Stage 3: Create",     anchor: "#s3" },
      { key: "l1u5_s4_reflect",    label: "Stage 4: Reflect",    anchor: "#s4" },
      { key: "l1u5_s5_perform",    label: "Stage 5: Perform",    anchor: "#s5" }
    ];

    const stageList = document.getElementById("stageList");
    const progressFill = document.getElementById("progressFill");
    const progressText = document.getElementById("progressText");
    const resetBtn = document.getElementById("resetBtn");

    function getDone(key){ return localStorage.getItem(key) === "true"; }
    function setDone(key, value){ localStorage.setItem(key, value ? "true" : "false"); render(); }

    function calcPercent(){
      const doneCount = STAGES.filter(s => getDone(s.key)).length;
      return Math.round((doneCount / STAGES.length) * 100);
    }

    function render(){
      stageList.innerHTML = "";

      STAGES.forEach(stage => {
        const done = getDone(stage.key);

        const row = document.createElement("div");
        row.className = "stageRow";

        const left = document.createElement("div");
        left.className = "left";

        const dot = document.createElement("div");
        dot.className = "dot" + (done ? " done" : "");

        const nameWrap = document.createElement("div");
        const name = document.createElement("strong");
        name.textContent = stage.label;

        const jump = document.createElement("a");
        jump.href = stage.anchor;
        jump.className = "small";
        jump.textContent = "open";
        jump.style.textDecoration = "none";
        jump.style.marginLeft = "8px";
        jump.style.borderBottom = "1px dashed rgba(255,255,255,.22)";
        jump.addEventListener("click", () => {
          const id = stage.anchor.replace("#","");
          const el = document.getElementById(id);
          if(el && el.tagName.toLowerCase() === "details"){ el.open = true; }
        });

        nameWrap.appendChild(name);
        nameWrap.appendChild(jump);

        left.appendChild(dot);
        left.appendChild(nameWrap);

        const btn = document.createElement("button");
        btn.className = done ? "undoBtn" : "doneBtn";
        btn.textContent = done ? "Mark not done" : "Mark done";
        btn.addEventListener("click", () => setDone(stage.key, !done));

        row.appendChild(left);
        row.appendChild(btn);
        stageList.appendChild(row);
      });

      const pct = calcPercent();
      progressFill.style.width = pct + "%";
      progressText.textContent = pct + "% complete";
    }

    resetBtn.addEventListener("click", () => {
      const ok = confirm("Reset Unit 5 progress? This only affects your browser.");
      if(!ok) return;
      STAGES.forEach(s => localStorage.removeItem(s.key));
      render();
    });

    const teacherBtn = document.getElementById("teacherBtn");
    const teacherBox = document.getElementById("teacherBox");
    teacherBtn.addEventListener("click", () => {
      const isHidden = teacherBox.style.display === "" || teacherBox.style.display === "none";
      teacherBox.style.display = isHidden ? "block" : "none";
    });

    render();
  </script>
</body>
</html>
